<!DOCTYPE html>
<html>
    <head>
        <!-- angular -->
        <script type="text/javascript" src="js/angular.js"></script>
        
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery.js"></script>

        <!-- script -->
        <script type="text/javascript" src="js/app.js"></script>
        <script type="text/javascript" src="js/states.js"></script>
        <script type="text/javascript" src="js/otherstates.js"></script>
        <script type="text/javascript" src="js/bootstrap.min.js"></script>

        <!-- css -->
        <link rel="stylesheet" href="css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="css/styles.css">
    </head>

    <body ng-app="myApp" ng-controller="BaseController as base">
        
        <div class="wrapper" ng-controller="StatesController as stateCtrl">
        
        
        <!-- modal content -->
        <div class="modal fade" ng-repeat="state in stateCtrl.states" id="{{'largeModal' + state.id}}"" tabindex="-1" role="dialog" aria-labelledby="largeModal" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <div class="statename">Current Senator of {{state.state}}</div>
              </div>
              <div class="modal-body" ng-repeat="senators in state.senators">
                <div class="modalinfo">
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="playername">{{senators.name}}</div>
                            <img class="modalpics" ng-src="{{senators.images}}"/>
                        </div>
                        <div class="col-sm-5">
                            <div class="playername">Platform Points/bio??</div>
                            <ul>
                                <li>point 1</li>
                                <li>point 2</li>
                                <li>point 3</li>
                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <div class="playername">Opposing Candidates</div>
                            <div class="candidatestable">
                            <table class="table table-striped">
                                <tr ng-repeat="candidates in state.candidates">
                                    <td>{{candidates.name + " " + candidates.party}}</td>
                                </tr>
                            </table>
                            <div class="playername">Uncontested Senator of {{state.state}}</div>
                            <table class="table table-striped" ng-repeat="uncontested in state.uncontested">
                                <tr>
                                    <td>{{uncontested.name + " " + uncontested.party}}</td>
                                </tr>
                            </table>
                            </div>
                        </div>
                    </div>
                </div>
              </div>
            </div>
           </div>
          </div>


        <!-- end of modal content -->

        <div class="container">
            

        <h1>2016 Senator Race</h1>
        <div class="row">
            <div class="col-lg-9 intro">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis rhoncus lectus sed maximus dignissim. Vestibulum ante ipsum primis
                in faucibus orci luctus et ultrices posuere cubilia Curae; Aliquam in lobortis tortor, ut dictum velit. Sed urna diam, tincidunt a
                pretium eget, consectetur nec urna. Curabitur diam arcu, convallis ac neque vitae, facilisis consectetur lacus. Nulla ultricies fringilla
                mi, at consectetur magna finibus quis. Mauris libero arcu, faucibus ac felis ut, sodales condimentum arcu. Integer fermentum eros eu
                tortor placerat porttitor.
            </div>
        
            
            <div class="input-group col-lg-3 carddisplay">
                <input type="text" ng-model="display" class="form-control carddisplay" placeholder="Search" name="q">
            </div>
        </div>
        
        <h4>Narrow your results</h4>
        
        <div class="nav">
            <select class="form-control" ng-model="sortParty">
                <option value="">Select a party</option>
                <option value="Republican">Republican</option>
                <option value="Democrat">Democrat</option>
            </select>
        </div>
                   
        <h2>States with Contested Senators</h2>
        <div class="row">
            
        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 playercard" ng-repeat="state in stateCtrl.states | filter: display | filter: sortParty">
            <div class="cardcontents" data-toggle="modal" data-target="{{'#largeModal' + state.id}}">
            <div class="statename">{{state.state}}</div>
                            
            <div ng-repeat="senators in state.senators">  
                <img class="playerpics" ng-src="{{senators.images}}"/>
                <div class="playername">{{senators.name}}</div>
                <div class="row">
                    <div class="party"><strong>{{senators.party}}</strong></div>
                    <br/>
                    <div><strong>Running in 2016:</strong> {{senators.running}}</div>
                </div>
            </div>
            </div>
        </div><!-- end of cards -->
        </div> <!-- row close -->
        
        <div ng-controller="OthersController as otherCtrl">
        <h2>States with no Contested Senators</h2>
        <div class="row">
            <table class="table uncontestedtable">
                <tr ng-repeat="others in otherCtrl.others">
                    <td>{{others.name}}</td>
                    <td>{{others.state}}</td>
                    <td>{{others.party}}</td>
                </tr>
            </table>
        </div>
        </div> <!-- other ctrl -->
        </div> <!--row close -->
        </div> <!-- end of wrapper -->
        </div> <!-- container close -->
       
        
    </body>
</html>
